<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>YouTube Channel Player</title>
<style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: auto; }
    iframe { width: 100%; height: 315px; margin-top: 10px; }
    .video-item { margin: 10px 0; cursor: pointer; }
</style>
</head>
<body>

<h2>Channel Player</h2>

<!-- ===== PLAYER ===== -->
<iframe id="player" src="" frameborder="0" allowfullscreen></iframe>

<!-- ===== SEARCH BAR ===== -->
<input type="text" id="searchBox" placeholder="Search within channelâ€¦" style="width:100%;padding:10px;margin-top:15px;" />
<button onclick="searchVideos()">Search</button>

<!-- ===== RESULTS ===== -->
<div id="results"></div>

<script>
const API_KEY = "AIzaSyAGjBiuitENeXolaDKLiqVAX47CGW1uqjw";
const CHANNEL_ID = "UCrx-FlNM6BWOJvu3re6HH7w";

// Load latest videos on start
window.onload = function() {
    fetch(`https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet,id&order=date&maxResults=10`)
    .then(res => res.json())
    .then(data => showResults(data.items));
};

// Show results in list
function showResults(items) {
    const container = document.getElementById("results");
    container.innerHTML = "";

    items.forEach(item => {
        if (!item.id.videoId) return;

        const div = document.createElement("div");
        div.className = "video-item";
        div.innerHTML = `
            <img src="${item.snippet.thumbnails.default.url}">
            <strong>${item.snippet.title}</strong>
        `;
        div.onclick = () => playVideo(item.id.videoId);
        container.appendChild(div);
    });
}

// Play in top player
function playVideo(id) {
    document.getElementById("player").src =
        `https://www.youtube.com/embed/${id}`;
}

// Search inside the channel
function searchVideos() {
    let query = document.getElementById("searchBox").value;

    fetch(`https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&q=${query}&part=snippet,id&maxResults=10`)
    .then(res => res.json())
    .then(data => showResults(data.items));
}
</script>

</body>
</html>
